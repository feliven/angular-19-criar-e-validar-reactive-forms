<div class="cadastro-form">
  <div class="cadastro-form__container">
    <div class="cadastro-form__card">
      <h2 class="cadastro-form__title">
        {{ configuracaoDeFormulario.titulo }}
      </h2>

      <p class="cadastro-form__description">
        {{ configuracaoDeFormulario.descricao }}
      </p>

      <form [formGroup]="dadosPessoaisForm" (ngSubmit)="onProximo()">
        @for (campo of configuracaoDeFormulario.campos; track $index) { @if
        (retornaTipoDeCampoFormulario(campo, "text") ||
        retornaTipoDeCampoFormulario(campo, "email")) {
        <div
          class="cadastro-form__field"
          [ngClass]="{ 'cadastro-form__field--half': campo.width === 'half' }"
        >
          <label [for]="campo.formControlName" class="cadastro-form__label">{{
            campo.label
          }}</label>
          <input
            [id]="campo.formControlName"
            [type]="campo.type"
            class="cadastro-form__input"
            [formControlName]="campo.formControlName"
            [placeholder]="campo.placeholder || ''"
          />
          @if ( dadosPessoaisForm.get(campo.formControlName)?.invalid &&
          dadosPessoaisForm.get(campo.formControlName)?.touched) { @for
          (mensagemErro of campo.errorMessages | keyvalue; track $index) { @if
          (dadosPessoaisForm.get(campo.formControlName)?.errors?.[mensagemErro.key])
          {
          <span>{{ mensagemErro.value }}</span>
          } }

          <div class="cadastro-form__error">Nome completo é obrigatório</div>
          }
        </div>
        } }

        <div class="cadastro-form__actions">
          <app-button
            text="Anterior"
            type="outline"
            icon="fas fa-arrow-left"
            iconPosition="left"
            (clicked)="onAnterior()"
          >
          </app-button>

          <app-button
            text="Próximo"
            type="primary"
            icon="fas fa-arrow-right"
            iconPosition="right"
            [disabled]="dadosPessoaisForm.invalid"
            (clicked)="onProximo()"
          >
          </app-button>
        </div>
      </form>
    </div>
  </div>
</div>
